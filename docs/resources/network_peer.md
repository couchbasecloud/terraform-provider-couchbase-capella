---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "couchbase-capella_network_peer Resource - terraform-provider-couchbase-capella"
subcategory: ""
description: |-
  This resource allows you to manage network peering for an operational cluster.
---

# couchbase-capella_network_peer (Resource)

This resource allows you to manage network peering for an operational cluster.

## Example Usage

```terraform
# example for AWS config
resource "couchbase-capella_network_peer" "new_network_peer" {
  organization_id = "ffffffff-aaaa-1414-eeee-000000000000"
  project_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  cluster_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  name            = "VPCPeerTFTestAWS"
  provider_type   = "aws"
  provider_config = {
    aws_config = {
      account_id = "123456789123"
      vpc_id     = "vpc-141f0fffff141aa00ff"
      cidr       = "10.1.0.0/23"
      region     = "us-east-1"
    }
  }
}


# example for GCP config
resource "couchbase-capella_network_peer" "new_network_peer" {
  organization_id = "ffffffff-aaaa-1414-eeee-000000000000"
  project_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  cluster_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  name            = "VPCPeerTFTestGCP"
  provider_type   = "gcp"
  provider_config = {
    aws_config = {
      cidr            = "10.0.4.0/23"
      network_name    = "cc-ffffffff-aaaa-1414-eeee-000000000000"
      project_id      = "test-project-id"
      service_account = "service-account-name@project-id.iam.gserviceaccount.com"
    }
  }
}


# example for Azure config
resource "couchbase-capella_network_peer" "new_network_peer" {
  organization_id = "ffffffff-aaaa-1414-eeee-000000000000"
  project_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  cluster_id      = "ffffffff-aaaa-1414-eeee-000000000000"
  name            = "VPCPeerTFTestAzure"
  provider_type   = "azure"
  provider_config = {
    aws_config = {
      cidr            = "10.6.0.0/16"
      resource_group  = "test-rg"
      subscription_id = "ffffffff-aaaa-1414-eeee-00000000000"
      tenant_id       = "ffffffff-aaaa-1414-eeee-00000000000"
      vnet_id         = "test-vnet"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The GUID4 ID of the cluster to set up network peering.
- `name` (String) The name of the network peering relationship.
- `organization_id` (String) The GUID4 ID of the organization.
- `project_id` (String) The GUID4 ID of the project.
- `provider_config` (Attributes) The Cloud Service Provider's specific configuration for the network peering. The 'accountId', 'vpcId', 'region', and 'cidr' fields are required for AWS VPC peering. For GCP, the 'networkName', 'projectId', 'serviceAccount', and 'cidr' fields are required for VPC peering. (see [below for nested schema](#nestedatt--provider_config))
- `provider_type` (String) The Cloud Service Provider type for the network peering. Currently supporting AWS, GCP, or Azure.

### Read-Only

- `audit` (Attributes) Couchbase audit data. (see [below for nested schema](#nestedatt--audit))
- `commands` (Set of String) The list of commands required to set up network peering.
- `id` (String) The unique identifier for the network peering record.
- `status` (Attributes) Current status of the network peering connection. (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--provider_config"></a>
### Nested Schema for `provider_config`

Optional:

- `aws_config` (Attributes) AWS-specific configuration for VPC peering. (see [below for nested schema](#nestedatt--provider_config--aws_config))
- `azure_config` (Attributes) Azure-specific configuration for VNet peering. (see [below for nested schema](#nestedatt--provider_config--azure_config))
- `gcp_config` (Attributes) GCP-specific configuration for VPC network peering. (see [below for nested schema](#nestedatt--provider_config--gcp_config))

<a id="nestedatt--provider_config--aws_config"></a>
### Nested Schema for `provider_config.aws_config`

Required:

- `cidr` (String) The AWS VPC CIDR block of network in which your application runs. This cannot overlap with your Capella CIDR Block.

Optional:

- `account_id` (String) The numeric AWS Account ID or Owner ID.
- `region` (String) The AWS region where your VPC is deployed.
- `vpc_id` (String) The alphanumeric VPC ID which starts with 'vpc-'. This is also known as the networkId.

Read-Only:

- `provider_id` (String) The ID of the VPC peer on AWS.


<a id="nestedatt--provider_config--azure_config"></a>
### Nested Schema for `provider_config.azure_config`

Required:

- `cidr` (String) The CIDR block from the virtual network that you created in Azure. This cannot overlap with your Capella CIDR Block.

Optional:

- `resource_group` (String) The resource group name holding the resource you're connecting with Capella.
- `subscription_id` (String) The Azure subscription ID where the VNet exists.
- `tenant_id` (String) The Azure tenant ID where the VNet exists.
- `vnet_id` (String) The VNet ID is the name of the virtual network peering in Azure.

Read-Only:

- `provider_id` (String) The ID of the VNet peer on Azure.


<a id="nestedatt--provider_config--gcp_config"></a>
### Nested Schema for `provider_config.gcp_config`

Required:

- `cidr` (String) The GCP VPC CIDR block of network in which your application runs. This cannot overlap with your Capella CIDR Block.

Optional:

- `network_name` (String) The name of the network that you want to peer with.
- `project_id` (String) The unique identifier for your GCP project.
- `service_account` (String) ServiceAccount created or assigned on the external VPC project. GCP Service Account with DNS Admin and Compute.NetworkAdmin permissions. Must be in email form shown by 'gcloud iam service-accounts list'.

Read-Only:

- `provider_id` (String) The ID of the VPC peer on GCP.



<a id="nestedatt--audit"></a>
### Nested Schema for `audit`

Read-Only:

- `created_at` (String) The RFC3339 timestamp when the resource was created.
- `created_by` (String) The user who created the resource.
- `modified_at` (String) The RFC3339 timestamp when the resource was last modified.
- `modified_by` (String) The user who last modified the resource.
- `version` (Number) The version of the document. This value is incremented each time the resource is modified.


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `reasoning` (String) Detailed reason for the current status of the peering connection.
- `state` (String) Current state of the peering connection. The status options are 'pending', 'active', or 'failed'.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import couchbase-capella_network_peer.new_network_peer id=ffffffff-aaaa-1414-eeee-000000000000,cluster_id=ffffffff-aaaa-1414-eeee-000000000000,project_id=ffffffff-aaaa-1414-eeee-000000000000,organization_id=ffffffff-aaaa-1414-eeee-000000000000
```
