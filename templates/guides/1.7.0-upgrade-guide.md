---
layout: "couchbase-capella"
page_title: "Couchbase Capella Provider 1.7.0: Upgrade and Information Guide"
sidebar_current: "docs-couchbase-capella-guides-170-upgrade-guide"
description: |-
Couchbase Capella Provider 1.7.0: Upgrade and Information Guide
---

# Couchbase Capella Provider 1.7.0: Upgrade and Information Guide

Here is a list of what's new in 1.7.0

## New Features

* Enforces the limit on regions_to_copy, so a maximum of two can be selected
* Makes the comments in `terraform
* This allows the user to manage cloud snapshot backups, and cloud snapshot backup schedules as resources
* Remove the deprecated WithDescription function from the feature branch

## Bug Fixes

* Fix num-replicas zero value not getting populated
* We are reverting the GSI monitor schema to its original state, as the changes were introduced unintentionally
* Sets default values for the optional variables to prevent the user being requested to enter values for the optional variables, even if they are not using them
* Terraform import fix for null pointer exception during gsi index imports
For more info please refer CBSE:- https://jira
* The aim of this PR is to properly ensure that we are not unintentionally setting default values for optional fields that already have non-zero defaults on the server side
* Change `snapshot_backup` to `cloud_snapshot_backup` in `terraform

## Changes

1.7.0 includes new features and general improvements. See the [CHANGELOG](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/CHANGELOG.md) for more specific information.

## Breaking Changes

WARNING: **ACTION REQUIRED** - The following changes may require updates to your Terraform configurations:

### Added validation check on num_replica

The number of replicas cannot be set to zero, so we have added a validation check for this.

<!-- TODO: Add migration steps if needed -->

### Reverted datasource gsi schema to original state

The GSI datasource schema has been reverted to its original state

<!-- TODO: Add migration steps if needed -->

### Make Retention and Interval Computed

`retention` and `interval` should be computed for the Cloud Snapshot Backup Schedule data source.

<!-- TODO: Add migration steps if needed -->

### Prevent Attempts to Restore a Snapshot Backup before it is Created

Adds an error message if the user attempts to set `restore_times` or `cross_region_restore_preference` before the snapshot backup has been created, and prevents the snapshot backup from being created.

<!-- TODO: Add migration steps if needed -->

### Helpful Links

- [Getting Started with the Terraform Provider](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/examples/getting_started)
- [Capella Management API v4.0](https://docs.couchbase.com/cloud/management-api-reference/index.html)
- [See Specific Examples](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/examples)
