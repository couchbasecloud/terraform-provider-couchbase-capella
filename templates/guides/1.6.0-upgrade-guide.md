---
layout: "couchbase-capella"
page_title: "Couchbase Capella Provider 1.6.0: Upgrade and Information Guide"
sidebar_current: "docs-couchbase-capella-guides-160-upgrade-guide"
description: |-
Couchbase Capella Provider 1.6.0: Upgrade and Information Guide
---

# Couchbase Capella Provider 1.6.0: Upgrade and Information Guide

Here is a list of what's new in 1.6.0

## New Features

* Allows a cluster to be restored from a cloud snapshot backup
* Automatically enhance Terraform provider documentation by extracting field descriptions from the OpenAPI specification (`openapi
* Allows a user to access a single cloud snapshot backup as a data source
* Add app endpoint acceptance test and common app endpoint
* Allows the user to filter the snapshot backup list datasource by the status attribute
* Feature App Endpoints
* This allows the user to get a single cloud snapshot restore as a data source or list all of the cloud snapshot restores as a data source
* Implements the Snapshot Backup Schedule datasource
* Add list cloud snapshot backups at the project level implementation for terraform
* Allows cloud snapshot backup schedules to be created, read, updated, destroyed and imported
* magma buckets in 8
* Implements a cloud snapshot backup data source
* Allows cloud snapshot backups to be created, read, updated, destroyed and imported
* allow filtering app endpoints by a list of names
* this PR does the following:
- add missing markdown description to resources
- remove dup code
* Introduces a generated OpenAPI v2 client alongside the existing v1, laying the groundwork for a safe, step-by-step migration
* log when API is rate limited
* App Endpoint OIDC provider + default OIDC provider resources
* Add single app endpoint datasource
* Implement App Endpoint activation status datasource and add docs
* implement terraform resource and datasource for app endpoint
* Implement CORS configuration for App Endpoint
* implementation for datasource and resource for app endpoint resync
* Add App Endpoint Activation status read, update, delete and import + examples
* Add App Endpoint import filter resource and datasource implementations and examples folder
* implementation of resource for app endpoint access control function
* Add import filter schema and add it to resources in provider
* Add access function schema and resource stubs

## Bug Fixes

* Fix App Services Allowed CIDRs field requirement and error handling
* Remove null checks in `(a *AppEndpointActivationStatus) Validate()` to fix import, as those fields are already null on import and cause an error
* Fix AppEndpointOIDC schema by using a slice instead of a Set and rewrite relevant code in resource/datasource to reflect this change
* Add App Endpoint CORS and resync examples, various fixes for resync
* provider should not set bucket defaults
* Updates the Rotate API Key Response struct to include the usable token, and changes `Update` so it uses the token from the API rather than creating it from `Id` and `Secret`
* Changes the success status code for the Rotate API Key endpoint from `201` to `200`
* fix acc test `TestAccClusterResourceWithOnlyReqFieldAWS`

## Changes

1.6.0 includes new features and general improvements. See the [CHANGELOG](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/CHANGELOG.md) for more specific information.

## Breaking Changes

WARNING: **ACTION REQUIRED** - The following changes may require updates to your Terraform configurations:

### Add service name to private endpoints resource and datasource

Added serviceName field to private endpoints datasource and resource

<!-- TODO: Add migration steps if needed -->

### Add getting started configs and outputs for phase 1 app endpoints

Add getting started configs for each resource that was added in phase 1
Add depends on statement to configs that need it such as app service

<!-- TODO: Add migration steps if needed -->

### Add App endpoint activation status schema

Add App endpoint activation status schema
https://docs.couchbase.com/cloud/management-api-reference/index.html#tag/App-Endpoints/operation/postAppEndpointActivationStatus

<!-- TODO: Add migration steps if needed -->

### Remove cluster ID arg from import command in examples readme

examples readme for cluster states import command is 

`terraform import couchbase-capella_cluster.new_cluster id=<cluster_id>,project_id=<project_id>,organization_id=<organization_id>`

while testing, i was getting 

```

│ Error: Error Reading Capella Cluster
│
│ Could Not Read Capella Cluster "id=brasseallenemerson,cluster_id=ffffffff-aaaa-1414-eeee-00000000000,project_id=ffffffff-aaaa-1414-eeee-00000000000organization_id=ffffffff-aaaa-1414-eeee-00000000000": failed to validate resource state: terraform import parameters did not match those expected for the resource, please check provider documentation for syntax: error parsing terraform import: terraform import parameters did not match those expected for the resource, please check provider documentation for syntax
╵
```

while passing the cluster_id arg, after removing this arg it works fine. This also aligns with the example command in the same readme

removed the cluster_id arg from the example command

<!-- TODO: Add migration steps if needed -->

### Helpful Links

- [Getting Started with the Terraform Provider](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/examples/getting_started)
- [Capella Management API v4.0](https://docs.couchbase.com/cloud/management-api-reference/index.html)
- [See Specific Examples](https://github.com/couchbasecloud/terraform-provider-couchbase-capella/blob/master/examples)
